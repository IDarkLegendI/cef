<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./css/style.css">
    <link rel="stylesheet" href="./css/keys.css" type="text/css" />
    <title>ROYAL MENU</title>
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Condensed&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Oswald&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Barlow:wght@500&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Rubik:wght@300&display=swap" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="../animate.css">
</head>

<body id="fade" onload="load()">
    <section id="body">
        <div id="cursor"></div>
        <div id="aura"></div>
        <!-- ГЛАВНАЯ -->
        <section v-show="page === 0">
            <div class="main" id="main">
                <div class="upper">
                    <div class="maininfo">
                        <div id="mouseFocus">
                            ROYAL
                        </div>
                        <div class="hr">
                            <hr>
                        </div>
                        <div class="money">
                            <div class="balance">
                                <span>{{i18n.balance}}</span>
                            </div>
                            <div class="rub">
                                <span>{{money}} $</span>
                            </div>
                        </div>
                    </div>
                    <div class="buttons">
                        <div class="btns1">
                            <div class="btn" id="mouseFocus">
                                <span>{{i18n.topap}}</span>
                            </div>
                            <div class="btn" id="mouseFocus">
                                <span>{{i18n.adminpanel}}</span>
                            </div>
                        </div>
                    </div>
                    <div class="warning" id="mouseFocus">
                        <div class="mainlobby">
                            <transition-group name="list-complete" tag="div" class="sectionslobby" appear>
                                <div class="sectionlobby list-complete-item" v-for="(player, index) in lobby"
                                    v-bind:key="player.name">
                                    <section v-if="player.ready !== -2">
                                        <div class="crownimg" v-if="player.ready === -1">
                                            <img alt="" src="img/Crown.png">
                                        </div>
                                        <div class="ready" v-if="player.ready >= 0">
                                            <span v-show="player.ready === 1">{{i18n.ready}}</span>
                                            <span class="readynot" v-show="player.ready === 0">{{i18n.notready}}</span>
                                        </div>
                                    </section>
                                    <div :class="{ava: player.ava !== 0}" class="borderlobby"
                                        v-on:click="switchPage(0, player.ava === 0 ? 1 : 0)">
                                        <img src="img/plus.png" alt="" v-if="player.ava === 0">
                                        <!-- <img :id="'player'+index" :src="`img/avatars/${player.ava}.jpg`" alt="" v-else> -->
                                        <img :id="'player'+index" :src="player.ava" alt="" v-else>
                                    </div>
                                    <div class="nicklobby">{{player.name.toUpperCase()}}</div>
                                </div>
                            </transition-group>
                        </div>
                    </div>
                </div>
                <div class="down">
                    <div class="left">
                        <div class="upleft">
                            <div class="car form" v-on:click="switchPage(2)">
                                <div class="carContent">
                                    <div class="textcar" id="mouseFocus">
                                        <span class="textcar1">{{i18n.personal}}</span>
                                        <span class="textcar4">{{i18n.managerCars}}</span>
                                    </div>
                                    <div>
                                        <span class="textcar2">{{i18n.transport}}</span>
                                        <span class="textcar3">{{i18n.control}}</span>
                                    </div>
                                    <div class="iconcar">
                                        <img src="./img/car.png" id="mouseFocus" alt="">
                                    </div>
                                </div>
                            </div>
                            <div class="stack">
                                <section v-if="lobby[myID].ready <= -1">
                                    <div class="ticket form" id="mouseFocus" v-on:click="emitServer('sMenu:startGame')"
                                        v-if="!statusGame">
                                        <div class="textticket">
                                            <div class="textticket1">{{i18n.start}} <span class="textticket2">{{i18n.game}}</span></div>
                                            <div class="textticket3">{{i18n.status}}: <span
                                                    class="textticket4">{{textMatch}}</span>
                                            </div>
                                            <div class="textticketblock">
                                                <div class="textticket5">{{i18n.expectation}}: <span
                                                        class="textticket6">{{countWarmUp}}</span></div>
                                            </div>
                                            <!-- <span сlass="textticket5">Примерное</span> -->
                                        </div>
                                        <div class="iconticket">
                                            <img src="./img/jostik.png" id="mouseFocus" alt="">
                                        </div>
                                    </div>

                                    <div class="ticket ticketRed form" id="mouseFocus"
                                        v-on:click="emitServer('sMenu:endGame')" v-else>
                                        <div class="textticket" style="justify-content: center;">
                                            <div class="textticket1">{{i18n.stop}} <span class="textticket2">{{i18n.game}}</span>
                                            </div>
                                        </div>
                                        <div class="iconticket">
                                            <img src="./img/jostik.png" id="mouseFocus" alt="">
                                        </div>
                                    </div>
                                </section>

                                <section v-else>
                                    <div class="ticket ticketRed form" id="mouseFocus"
                                        v-on:click="emitServer('sMenu:startGame')" v-if="lobby[myID].ready === 0">
                                        <div class="textticket">
                                            <div class="textticket1">{{i18n.notready}}</span></div>
                                            <div class="textticket3">{{i18n.clickready}}
                                            </div>
                                            <div class="textticketblock">
                                                <div class="textticket5">{{i18n.expectation}}: <span
                                                        class="textticket6">{{countWarmUp}}</span></div>
                                            </div>
                                        </div>
                                        <div class="iconticket">
                                            <img src="./img/jostik.png" id="mouseFocus" alt="">
                                        </div>
                                    </div>

                                    <div class="ticket form" id="mouseFocus" v-on:click="emitServer('sMenu:startGame')"
                                        v-else>
                                        <div class="textticket">
                                            <div class="textticket1">{{i18n.ready}}</span></div>
                                            <div class="textticket3">{{i18n.clicknotready}}
                                            </div>
                                            <div class="textticketblock">
                                                <div class="textticket5">{{i18n.expectation}}: <span
                                                        class="textticket6">{{countWarmUp}}</span></div>
                                            </div>
                                            <!-- <span сlass="textticket5">Примерное</span> -->
                                        </div>
                                        <div class="iconticket">
                                            <img src="./img/jostik.png" id="mouseFocus" alt="">
                                        </div>
                                    </div>
                                </section>

                                <div class="shop form" id="mouseFocus" v-on:click="switchPage(1)">
                                    <div class="textshop">
                                        <div class="textshop1">{{i18n.settings}}</div>
                                    </div>
                                    <div class="iconshop">
                                        <img src="./img/shop.png" id="mouseFocus" alt="">
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="downleft">
                            <div class="noob form1">
                                <div class="noobpart1">
                                    <div class="textnoob" id="mouseFocus">
                                        <span class="textnoob1">{{i18n.pack}} <br> <span class="textnoob2">{{i18n.noob}}</span></span>
                                        <span class="textnoob3">{{i18n.left}} <span class="textnoob4">{{i18n.time}}</span></span>
                                    </div>
                                    <div class="noobbtn">
                                        <span><span class="minibtn" id="mouseFocus">{{i18n.license}}</span> <br> <span
                                                class="minibtn" id="mouseFocus">{{i18n.money}}</span>
                                    </div>
                                </div>
                                <div class="noobpart2">
                                    <div class="iconnoob">
                                        <img src="./img/noob.png" alt="">
                                    </div>
                                </div>
                            </div>
                            <div class="backpack form1">
                                <div class="rankContent">
                                    <div class="content">
                                        <div class="bptext" id="mouseFocus">
                                            <div class="bpname">
                                                <span>{{i18n.rank}}</span>
                                            </div>{{i18n.backmatch}}: <span :style="{color: lastMatch >= 1 ? 'green' : lastMatch <= -1 ? 'red' : 'orange'}">{{lastMatch > 0 ? "+" : ""}}{{lastMatch}}</span>
                                        </div>
                                        <div class="bpmaininfo">
                                            <div class="bpstats">
                                                <div class="bpstats1">
                                                    <div class="elo">
                                                        <span>{{i18n.score}}:</span> <span class="bpscore">{{elo}}</span>
                                                    </div>
                                                    <div class="matchs">
                                                        <span>{{i18n.wins}}:</span> <span class="bpscore">{{wins}} из
                                                            {{matches}}</span>
                                                    </div>
                                                    <div class="kd">
                                                        <span>K/D:</span> <span class="bpscore">{{getKD()}}</span>
                                                    </div>
                                                    <div class="kd" style="font-size: 1.05vw;">{{i18n.hours}}:
                                                        <span class="bpscore" style="font-size: 1.05vw;">
                                                            {{hours}}</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="img">
                                        <img :src="`img/levels/${level}.png`" id="mouseFocus" alt="">
                                    </div>
                                </div>
                            </div>
                            <div class="virt form1">
                                <div class="virtname">
                                    <span>{{i18n.awards}}</span>
                                </div>
                                <div class="virttext">
                                    <span>{{i18n.gifts}}</span>
                                </div>
                                <div class="virticon">
                                    <img alt="" src="img/kor.png">
                                </div>
                            </div>
                        </div>
                    </div>
                    <transition name="person-friend">
                        <div class="right" v-show="subPage === 0">

                            <div class="headright">
                                <span class="headright1">{{i18n.person}}</span>
                            </div>
                            <div class="textright">
                                <span class="minibtn" id="mouseFocus"
                                    v-on:click="emit('characterOpen')">{{i18n.custom}}</span> <br>
                                <span class="minibtn" id="mouseFocus" v-on:click="switchPage(0, 2)">{{i18n.friends}}</span> <br>
                                <span class="minibtn" id="mouseFocus" v-on:click="emit('cClothes:open')">{{i18n.clothing}}</span>
                            </div>
                            <div class="righticon">
                                <img src="img/character.png" id="mouseFocus" alt="">
                            </div>
                        </div>
                    </transition>

                    <transition name="person-friend2">
                        <div class="rightNoHover" v-show="subPage === 1">
                            <div class="friendsh1">
                                <h1>{{i18n.invite}}</h1>
                            </div>
                            <div class="zaprosi">
                                <transition-group name="list-complete" tag="div">
                                    <div class="zapros list-complete-item" v-for="(friend, index) in friends"
                                        v-bind:key="friend">
                                        <div class="avatarnickzapros">
                                            <div class="avatarzapros">
                                                <img src="img/ava.jpg" alt="">
                                            </div>
                                            <div class="nickzapros">{{friend}}</div>
                                        </div>
                                        <div class="btnszapros">
                                            <div class="btnzapros" data-title="Пригласить">
                                                <img src="img/plusbtn.png" alt="">
                                            </div>
                                        </div>
                                    </div>
                                </transition-group>
                            </div>
                            <div class="btnbackperson">
                                <span class="minibtn" id="mouseFocus" v-on:click="switchPage(0, 0)">{{i18n.person}}</span>
                            </div>
                        </div>
                    </transition>
                    <transition name="person-friend2">
                        <div class="rightNoHover" v-show="subPage === 2">
                            <div class="friendsh1">
                                <h1>{{i18n.friends}}</h1>
                            </div>
                            <div class="zaprosi">
                                <transition-group name="list-complete" tag="div">
                                    <div class="zapros list-complete-item" v-for="(friend, index) in friends"
                                        v-bind:key="friend" v-on:mouseleave="showProfileDetails(friend, 0)">
                                        <div class="avatarnickzapros">
                                            <div class="avatarzapros" :class="{online: index === 0}">
                                                <img src="img/ava.jpg" alt="">
                                            </div>
                                            <div class="nickzapros">{{friend}}</div>
                                        </div>
                                        <div class="btnszapros">
                                            <div class="btnzapros profileDetails" :id='friend'
                                                v-on:click="delFriend(friend)" data-title="Удалить из друзей">
                                                <img src="img/close.png" alt="">
                                            </div>
                                            <div class="btnzapros" v-on:click="showProfileDetails(friend)"
                                                data-title="Действия">
                                                <img src="img/dots.png" alt="">
                                            </div>
                                        </div>
                                    </div>
                                </transition-group>
                            </div>
                            <div class="btnbackperson2">
                                <span class="minibtn" id="mouseFocus" v-on:click="switchPage(0, 0)">{{i18n.friends}}</span>
                                <span class="minibtn" id="mouseFocus" v-on:click="switchPage(0, 3)">{{i18n.controlFriends}}</span>
                            </div>
                        </div>
                    </transition>
                    <transition name="person-friend2">
                        <div class="rightNoHover" v-show="subPage === 3">
                            <div class="friendsh1" v-if="requestsIn[0]">
                                <h1>{{i18n.requestsIn}}</h1>
                            </div>
                            <div class="zaprosi" v-if="requestsIn[0]">
                                <transition-group name="list-complete" tag="div">
                                    <div class="zapros list-complete-item" v-for="(friend, index) in requestsIn"
                                        v-bind:key="friend">
                                        <div class="avatarnickzapros">
                                            <div class="avatarzapros">
                                                <img src="img/ava.jpg" alt="">
                                            </div>
                                            <div class="nickzapros">{{friend}}</div>
                                        </div>
                                        <div class="btnszapros">
                                            <div class="btnzapros" data-title="Принять"
                                                v-on:click="emitServer('sFriends:acceptRequest', friend)">
                                                <img src="img/tick.png" alt="">
                                            </div>
                                            <div class="btnzapros" data-title="Отклонить"
                                                v-on:click="emitServer('sFriends:rejectRequest', friend, 'requestsIn')">
                                                <img src="img/close.png" alt="">
                                            </div>
                                        </div>
                                    </div>
                                </transition-group>
                            </div>

                            <div class="inputaddfriends" :style="{marginTop: requestsIn[0] ? '-2%' : '7%' }">
                                <h1>{{i18n.addFriend}}</h1>
                                <div class="btnback2">
                                    <input type="text" placeholder="Введите имя" spellcheck="false" v-model="miscInput">
                                    <transition name="custom-classes-transition"
                                        enter-active-class="animated fadeInLeft"
                                        leave-active-class="animated fadeOutRight">
                                        <a v-if="miscInput.length > 3"
                                            v-on:click="emit('cFriends:addRequest', miscInput, friends, requestsIn, requestsOut)"
                                            id="mouseFocus" class="btnOnlyBorder">{{i18n.add}}</a>
                                    </transition>
                                </div>
                            </div>

                            <div class="friendsh1" v-if="requestsOut[0]">
                                <h1>{{i18n.requestsOut}}</h1>
                            </div>
                            <div class="zaprosi" v-if="requestsOut[0]">
                                <transition-group name="list-complete" tag="div">
                                    <div class="zapros list-complete-item" v-for="(friend, index) in requestsOut"
                                        v-bind:key="friend">
                                        <div class="avatarnickzapros">
                                            <div class="avatarzapros">
                                                <img src="img/ava.jpg" alt="">
                                            </div>
                                            <div class="nickzapros">{{friend}}</div>
                                        </div>
                                        <div class="btnzapros" data-title="Отменить"
                                            v-on:click="emitServer('sFriends:rejectRequest', friend, 'requestsOut')">
                                            <img src="img/close.png" alt="">
                                        </div>
                                    </div>
                                </transition-group>
                            </div>
                            <div class="btnbackperson">
                                <span class="minibtn" id="mouseFocus"
                                    v-on:click="switchPage(0, 0)"><span>{{i18n.person}}</span></span>
                                <span class="minibtn" id="mouseFocus"
                                    v-on:click="switchPage(0, 2)"><span>{{i18n.friends}}</span></span>
                            </div>
                        </div>
                    </transition>
                </div>
            </div>
        </section>

        <!-- НАСТРОЙКИ -->
        <section v-if="page === 1">
            <div class="mainsettings">
                <div class="settingsh1">
                    <h1>{{i18n.settings}}</h1>
                </div>
                <div class="settings">
                    <div class="checkboxes">
                        <div class="checkboxtest">
                            <span>{{i18n.tips}}</span>
                            <input type="checkbox" id="switch" /><label for="switch" id="mouseFocus">Toggle</label>
                        </div>
                    </div>
                    <div class="checkboxes">
                        <div class="checkboxtest">
                            <span>"VR" - {{i18n.menuMode}}</span>
                            <input type="checkbox" id="switchVR" v-model='enableVR'
                                v-on:click="saveSettings(-1)" /><label for="switchVR" id="mouseFocus">Toggle</label>
                        </div>
                    </div>
                    <div class="binds">
                        <div class="bind">
                            <span class="bindname">{{i18n.sit}}</span>
                            <span class="bindbtn" id="mouseFocus">CTRL</span>
                        </div>
                    </div>
                    <div class="mapchoice1">
                        <div class="namechoice">
                            <h1>{{i18n.sizeMap}}</h1>
                        </div>
                        <div class="mapchoice">
                            <label>
                                <input id="map-0" type="radio" class="option-input radio" value="0" v-model="sizeMap">
                                <span>{{i18n.small}}</span>
                            </label>
                            <label>
                                <input id="map-1" type="radio" class="option-input radio" value="1" v-model="sizeMap">
                                <span>{{i18n.normal}}</span>
                            </label>
                            <label>
                                <input id="map-2" type="radio" class="option-input radio" value="2" v-model="sizeMap">
                                <span>{{i18n.big}}</span>
                            </label>
                        </div>
                    </div>
                    <div class="btnback">
                        <a href="#" v-on:click="saveSettings(0)" id="mouseFocus">{{i18n.btnBack}}</a>
                    </div>
                </div>
            </div>
        </section>

        <!-- Автомобили -->
        <section v-if="page === 2">
            <div class="mainauto">
                <div class="switchauto">
                    <div class="arrowleft">
                        <svg data-name="Livello 1" rotate="180deg" width="5vh" id="Livello_1" viewBox="0 0 128 128"
                            xmlns="http://www.w3.org/2000/svg">
                            <title />
                            <path
                                d="M64,0a64,64,0,1,0,64,64A64.07,64.07,0,0,0,64,0Zm0,122a58,58,0,1,1,58-58A58.07,58.07,0,0,1,64,122Z" />
                            <path
                                d="M58.12,35.88a3,3,0,0,0-4.24,4.24L77.76,64,53.88,87.88a3,3,0,1,0,4.24,4.24l26-26a3,3,0,0,0,0-4.24Z" />
                        </svg>
                    </div>
                    <div class="nameauto">
                        <div class="textnameauto">X-80 PROTO</div>
                    </div>
                    <div class="arrowright">
                        <svg data-name="Livello 1" width="5vh" id="Livello_1" viewBox="0 0 128 128"
                            xmlns="http://www.w3.org/2000/svg">
                            <title />
                            <path
                                d="M64,0a64,64,0,1,0,64,64A64.07,64.07,0,0,0,64,0Zm0,122a58,58,0,1,1,58-58A58.07,58.07,0,0,1,64,122Z" />
                            <path
                                d="M58.12,35.88a3,3,0,0,0-4.24,4.24L77.76,64,53.88,87.88a3,3,0,1,0,4.24,4.24l26-26a3,3,0,0,0,0-4.24Z" />
                        </svg>
                    </div>
                </div>
                <div class="btnback">
                    <a href="#" v-on:click="saveSettings(0)" id="mouseFocus">{{i18n.btnBack}}</a>
                </div>
            </div>

        </section>
    </section>
</body>
<script>
    function load() {
        if (!('alt' in window)) {
            // setTimeout(() => {
            //     menu.switchPage(1)
            // }, 10)
            return document.getElementById('fade').style.opacity = 1;
        }
        // else setTimeout(() => document.getElementById('fade').style.opacity = 1, 300); 
        // setTimeout(() => {
        //     document.getElementById('fade').style.opacity = 1;
        // }, 1000);
    }
</script>
<script src="../vue.js"></script>
<script src="js/menu.js"></script>
<script src="js/app.min.js"></script>
</body>

</html>